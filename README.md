# vk_marketplace

## Описание проекта

Это REST API для маркетплейса объявлений, реализованный на Go. Основные возможности сервиса:

* Регистрация и авторизация пользователей с JWT-аутентификацией.
* Работа с куками для безопасного хранения токена.
* Создание объявлений (title, description, price, image).
* Получение ленты объявлений с курсорной пагинацией.
* Валидация входящих данных с помощью тегов `validate` и кастомных правил.
* Гибкая сортировка объявлений по дате создания или цене в любом порядке.

### Основные маршруты API:

#### Регистрация и вход

**POST** `/sign_up`
**POST** `/sign_in`

**Пример запроса**:

```json
{
  "login": "login",
  "password": "password123@"
}
```

---

#### Создание объявления

**POST** `/advertisements/create`
(доступно только авторизованным пользователям)

**Пример запроса**:

```json
{
  "title": "title",
  "description": "description",
  "price": 123,
  "image_url": "https://vk.ru/image.jpg"
}
```

---

#### Получение ленты объявлений

**GET** `/feed`
Поддерживает курсорную пагинацию, сортировку и ограничение количества элементов.

**Параметры запроса**:

| Параметр         | Тип        | Описание                                            |
| ---------------- | ---------- | --------------------------------------------------- |
| `cursor`         | `int`      | ID последнего объявления с предыдущей страницы      |
| `sort_by`        | `string`   | `date` или `price`                                  |
| `order`          | `string`   | `asc` или `desc`                                    |
| `created_before` | `datetime` | фильтрация по дате создания (опционально)           |
| `limit`          | `int`      | ограничение количества объявлений (по умолчанию значение в конфиге) |


